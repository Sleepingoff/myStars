(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[275],{3065:function(e,t,n){Promise.resolve().then(n.bind(n,4424))},4424:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return F}});var r=n(4111),o=n(3250),i=n(8854),l=n(3258),a=n(5772);let s=(0,l.ZP)(a.Z).withConfig({componentId:"sc-9f8811ab-0"})(["width:fit-content;margin-left:auto;"]);var c=e=>{let{onSelect:t}=e;return(0,r.jsx)(s,{onClick:()=>{t("2024-07-11")},children:"Google 캘린더에서 일정 선택"})};let d=l.ZP.form.withConfig({componentId:"sc-c9d70f11-0"})(["display:flex;gap:8px;& > *{flex-shrink:0;margin:0;}width:100%;"]),u=l.ZP.input.withConfig({componentId:"sc-620ad235-0"})(["font-size:1.2rem;margin:4px;border-radius:8px;border:1px solid #ccc;outline:none;"]);var f=e=>{let{type:t,onChange:n,...o}=e,[l,a]=(0,i.useState)("");return(0,r.jsx)(u,{...o,value:l,type:t,onChange:e=>{a(e.target.value),n&&n(e)}})},p=n(5527);let h=l.ZP.div.withConfig({componentId:"sc-326eeaf-0"})(["display:flex;flex-direction:column;& > :first-child{margin-bottom:auto;}& > :last-child{margin-top:8px;}"]);var x=e=>{let{list:t,onChange:n}=e,o=(0,i.useRef)(null);return(0,r.jsxs)(h,{children:[(0,r.jsx)(p.default,{outputs:t}),(0,r.jsxs)(d,{style:{flexWrap:"wrap"},ref:o,onSubmit:e=>{if(e.preventDefault(),!o.current)return;let r=new FormData(o.current).get("keyResults");n([...t,{id:t.length,contents:r}])},children:[(0,r.jsx)(f,{type:"text",name:"keyResults"}),(0,r.jsx)(a.Z,{type:"submit",children:"추가"}),(0,r.jsx)(a.Z,{type:"reset",onClick:()=>{n([])},children:"모두 지우기"})]})]})};let g=l.ZP.textarea.withConfig({componentId:"sc-885eff3d-0"})(["width:100%;border:none;outline:none;resize:none;font-size:1.2em;color:#333;line-height:1.5;flex-basis:100%;text-align:left;&::-webkit-scrollbar{display:none;}"]);var m=e=>{let{value:t,onChange:n,placeholder:o,style:l}=e,a=(0,i.useRef)(null);return(0,i.useEffect)(()=>{if(!a.current)return;let e=a.current;e.style.height=e.scrollHeight+"px"},[t]),(0,r.jsx)(g,{ref:a,value:t,onChange:e=>{n(e.target.value)},placeholder:o,style:l})},b=e=>{let{value:t,onChange:n}=e;return(0,r.jsx)(m,{placeholder:"목표를 입력하세요",value:t,onChange:n})},j=e=>{let{value:t,onChange:n}=e;return(0,r.jsx)(m,{placeholder:"어떤 문제가 있나요?",value:t,onChange:n})},v=e=>{let{value:t,onChange:n}=e;return(0,r.jsx)(m,{placeholder:"결과를 입력하세요",value:t,onChange:n})};let C=l.ZP.div.withConfig({componentId:"sc-f2083da1-0"})(["text-align:left;padding:20px;border-left:4px solid #999;color:#333;margin-bottom:20px;& > *{margin-left:0;}"]),w=l.ZP.p.withConfig({componentId:"sc-f2083da1-1"})(["text-align:left;margin-bottom:10px;"]);var I=e=>{let{value:t,onChange:n}=e,[o,l]=(0,i.useState)("");return(0,i.useEffect)(()=>{l(new Date().toLocaleDateString("ko-KR",{year:"numeric",month:"long",day:"numeric",weekday:"long"}))},[]),(0,r.jsxs)(C,{children:[(0,r.jsx)(w,{children:o}),(0,r.jsx)(m,{value:t,onChange:n,placeholder:"일정을 입력하세요"})]})},y=n(7602),Z=n(8368);let k=l.ZP.label.withConfig({componentId:"sc-51d7c0e3-0"})(["font-size:1em;"]),P=l.ZP.output.withConfig({componentId:"sc-51d7c0e3-1"})(["font-size:1.2em;"]),S=l.ZP.input.withConfig({componentId:"sc-51d7c0e3-2"})(["flex-basis:1;"]);var D=e=>{let{value:t,onChange:n}=e;return(0,r.jsxs)(d,{children:[(0,r.jsx)(k,{children:"달성률"}),(0,r.jsx)(S,{type:"range",value:t,onChange:e=>{n(+e.target.value)},max:100}),(0,r.jsxs)(P,{children:[t,"%"]})]})},R=n(4477),z=n(4537);let E=l.ZP.div.withConfig({componentId:"sc-9ad92f6d-0"})(["padding:20px;max-width:800px;margin:0 auto;"]),_=l.ZP.h1.withConfig({componentId:"sc-9ad92f6d-1"})(["text-align:center;"]),A=l.ZP.div.withConfig({componentId:"sc-9ad92f6d-2"})(["display:flex;width:100%;& > :last-child{flex-basis:70%;}& > :first-child{flex-basis:30%;}"]),T=l.ZP.button.withConfig({componentId:"sc-9ad92f6d-3"})(["margin-left:auto;padding:10px 20px;background-color:#4285f4;color:white;border:none;border-radius:4px;cursor:pointer;&:hover{background-color:#357ae8;}"]);var F=()=>{let[e,t]=(0,i.useState)(""),[n,l]=(0,i.useState)(""),[a,s]=(0,i.useState)(""),[d,u]=(0,i.useState)([]),[f,p]=(0,i.useState)(""),[h,g]=(0,i.useState)(50),m=(0,z.useRouter)(),C=async()=>{try{let t=y.I.currentUser;if(!t){alert("다시 로그인해주세요"),m.push("/");return}let r={schedule:e,problem:n,objective:a,keyResults:d,results:f,success:h,userID:t.uid,createdAt:(0,Z.Bt)()},o=(0,Z.hJ)(y.db,"stars",t.uid,"my");await (0,Z.ET)(o,r),alert("STAR 기록이 저장되었습니다."),m.push("/star/".concat(t.uid,"/").concat(o.id))}catch(e){alert("STAR 기록에 실패했습니다. 잠시후 다시시도해주세요"),console.log(e)}};return(0,r.jsx)(R.default,{children:(0,r.jsxs)(E,{children:[(0,r.jsxs)(o.default,{style:{border:"none"},children:[(0,r.jsx)(_,{children:"새로운 STAR 기록 만들기"}),(0,r.jsx)(T,{onClick:C,children:"저장하기"})]}),(0,r.jsxs)(o.default,{title:"일정",style:{flexDirection:"column"},children:[(0,r.jsx)(I,{value:e,onChange:t}),(0,r.jsx)(c,{onSelect:t})]}),(0,r.jsx)(o.default,{title:"문제",children:(0,r.jsx)(j,{value:n,onChange:l})}),(0,r.jsxs)(A,{children:[(0,r.jsx)(o.default,{title:"목표",children:(0,r.jsx)(b,{value:a,onChange:s})}),(0,r.jsx)(o.default,{title:"성과 지표",children:(0,r.jsx)(x,{list:d,onChange:u})})]}),(0,r.jsxs)(o.default,{title:"결과",style:{flexDirection:"column"},children:[(0,r.jsx)(D,{value:h,onChange:g}),(0,r.jsx)(v,{value:f,onChange:p})]})]})})}},5772:function(e,t,n){"use strict";let r=n(3258).ZP.button.withConfig({componentId:"sc-cc3e81c5-0"})(["padding:5px 10px;font-size:14px;color:white;background-color:#4285f4;border:none;border-radius:4px;cursor:pointer;&:hover{background-color:#357ae8;}"]);t.Z=r},3250:function(e,t,n){"use strict";var r=n(4111),o=n(3258);let i=o.ZP.div.withConfig({componentId:"sc-65381c37-0"})(["position:relative;display:flex;border:1px solid #ccc;border-radius:8px;padding:32px 16px;margin:4px;margin-top:1.5em;"]),l=o.ZP.span.withConfig({componentId:"sc-65381c37-1"})(["position:absolute;top:-1em;border-radius:99999px;background-color:pink;padding:0.5em 1em;"]);t.default=e=>{let{children:t,style:n,title:o,onClick:a}=e;return(0,r.jsxs)(i,{style:n,onClick:a,children:[o&&(0,r.jsx)(l,{children:o}),t]})}},4477:function(e,t,n){"use strict";n.d(t,{default:function(){return s}});var r=n(4111),o=n(8854),i=n(4537),l=n(7602),a=()=>{let[e,t]=(0,o.useState)(null),[n,r]=(0,o.useState)(!0),a=(0,i.useRouter)();return(0,o.useEffect)(()=>{let e=l.I.onAuthStateChanged(e=>{e?t(e):a.push("/"),r(!1)});return()=>e()},[a]),{user:e,loading:n}},s=e=>{let{children:t}=e,{user:n,loading:o}=a();return o?(0,r.jsx)("p",{children:"Loading..."}):n?(0,r.jsx)(r.Fragment,{children:t}):null}},5527:function(e,t,n){"use strict";var r=n(4111);let o=n(3258).ZP.ul.withConfig({componentId:"sc-d8bd253b-0"})(["& > li{text-align:left;}margin-left:1rem;"]);t.default=e=>{let{outputs:t}=e;return(0,r.jsx)(o,{children:t.map(e=>(0,r.jsx)("li",{children:e.contents},e.id))})}},7602:function(e,t,n){"use strict";n.d(t,{I:function(){return s},db:function(){return a}});var r=n(9557),o=n(9638),i=n(8368);let l=(0,r.C6)().length?(0,r.Mq)():(0,r.ZF)({apiKey:"AIzaSyCGp-14eJVYJ1X34_pIsrrDcDXQZnYZKPI",authDomain:"egg-dev-1acb7.firebaseapp.com",projectId:"egg-dev-1acb7",storageBucket:"egg-dev-1acb7.appspot.com",messagingSenderId:"1081153561261",appId:"1:1081153561261:web:8b24113ca743543ed3dc24"}),a=(0,i.ad)(l),s=(0,o.v0)(l)}},function(e){e.O(0,[54,633,258,756,616,323,744],function(){return e(e.s=3065)}),_N_E=e.O()}]);